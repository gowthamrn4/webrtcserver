{"version":3,"sources":["imgs/logo.png","axios.js","utilities/flash.js","components/homepage.js","components/login.js","auth.js","components/signup.js","components/room.js","components/dashboard.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","instance","require","create","baseURL","Flash","props","className","this","data","status","Array","isArray","messages","map","message","React","Component","Homepage","onClick","showSignup","href","showLogin","Login","handleUsername","event","username","target","value","setState","handlePassword","password","handleSubmit","submitActive","errors","state","push","length","API","post","then","res","console","log","flashHandler","interceptorID","token","id","userData","localStorage","setItem","JSON","stringify","interceptors","request","use","config","headers","error","Promise","reject","login","setInterceptorID","setUsername","setLogin","catch","buttonClass","onChange","type","placeholder","name","style","color","width","SignUp","inputHandler","field","email","match","password_confirm","Room","inviteHandler","navigator","clipboard","writeText","room_code","leaveHandler","socket","close","setInsideRoom","fileUploadBox","people_count","upload_visible","handleUploadedFile","files","file","URL","window","webkitURL","playable","myRef","current","canPlayType","src","createObjectURL","videoPlayed","captureStream","stream","mozCaptureStream","emit","shareScreen","mediaDevices","getDisplayMedia","video","sharing_screen","srcObject","play","stopSharing","getTracks","forEach","track","stop","viewing","WebRTC_config","iceServers","urls","peerConnections","createRef","io","peerConnection","on","RTCPeerConnection","addTrack","onicecandidate","candidate","createOffer","sdp","setLocalDescription","localDescription","description","setRemoteDescription","addIceCandidate","RTCIceCandidate","createAnswer","getStats","ontrack","streams","e","accept","onPlay","ref","height","controls","Dashboard","createRoom","room_name","userID","parse","getItem","creatorId","roomCode","joinRoom","get","page","insideRoom","App","useState","loginVisible","signupVisible","loggedIn","flashVisible","setFlashVisible","flashMessages","setFlashMessages","useEffect","loadProgressBar","render","logoutHandler","removeItem","eject","logout","setTimeout","class","data-toggle","data-target","aria-controls","aria-expanded","aria-label","Boolean","location","hostname","ReactDOM","StrictMode","document","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.c32c2c3f.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","const axios = require('axios');\n\nconst instance = axios.create({\n\t//baseURL: 'https://room-backend-networks.herokuapp.com/'\n\tbaseURL: 'https://mywebrtcserver.herokuapp.com/'\n});\n\nexport default instance;","import React from 'react';\n\nclass Flash extends React.Component{\n\tconstructor(props){\n\t\tsuper(props);\n\t}\n\trender(){\n\t\treturn(\n\t\t\t<div className={'flash ' + this.props.data.status}>\n\t\t\t{Array.isArray(this.props.data.messages) &&\n\t\t\t\tthis.props.data.messages.map((message) => {\n\t\t\t\t\treturn <p>- {message}</p>;\n\t\t\t\t})\n\t\t\t}\n\t\t\t{!Array.isArray(this.props.data.messages) &&\n\t\t\t\t<p>{this.props.data.messages}</p>\n\t\t\t}\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Flash;","import React, { useEffect } from 'react';\n\nexport default function Homepage(props) {\n\treturn (\n\t\t<div className=\"col-12\">\n\t\t\t<h1>Create Virtual Rooms and start casting media for<br /> others.</h1>\n\t\t\t<div className=\"action\">\n\t\t\t\t<a onClick={() => { props.showSignup(1) }} className=\"button green\" href=\"#\">Sign Up</a>\n\t\t\t\t<span>or</span>\n\t\t\t\t<a onClick={() => { props.showLogin(1) }} className=\"login\" href=\"#\">Login</a>\n\t\t\t</div>\n\t\t</div>\n\t);\n}","import React from 'react';\n//Utilities\nimport API from '../axios';\nimport { login } from '../auth'\n\nclass Login extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tusername: '',\n\t\t\tpassword: '',\n\t\t\tsubmitActive: true\n\t\t};\n\t}\n\thandleUsername = (event) => {\n\t\tlet username = event.target.value;\n\t\tthis.setState({ username });\n\t}\n\thandlePassword = (event) => {\n\t\tlet password = event.target.value;\n\t\tthis.setState({ password });\n\t}\n\thandleSubmit = (event) => {\n\t\tlet submitActive = false;\n\t\tlet errors = [];\n\t\tif (this.state.username == '') {\n\t\t\terrors.push(\"Please Enter your Username \\n\");\n\t\t}\n\t\tif (this.state.password == '') {\n\t\t\terrors.push(\"Please Enter your Password\");\n\t\t}\n\t\tif (errors.length == 0) {\n\t\t\t//Send API Request to /users/login\n\t\t\tAPI.post('/auth/login', {\n\t\t\t\tusername: this.state.username,\n\t\t\t\tpassword: this.state.password\n\t\t\t}).then((res) => {\n\t\t\t\tconsole.log(res);\n\t\t\t\tthis.props.flashHandler('success', 'Logged In!');\n\t\t\t\tlet interceptorID = login(this.state.username, res.data.data.token, res.data.data.id);\n\t\t\t\tthis.props.setInterceptorID(interceptorID);\n\t\t\t\tthis.props.showLogin(0);\n\t\t\t\tthis.props.setUsername(this.state.username);\n\t\t\t\tthis.props.setLogin(1);\n\t\t\t}).catch((error) => {\n\t\t\t\tthis.props.flashHandler('error', 'Wrong Credentials');\n\t\t\t\tconsole.log(error);\n\t\t\t\tthis.setState({ submitActive: true });\n\t\t\t});\n\t\t} else {\n\t\t\tthis.props.flashHandler('error', errors);\n\t\t\tsubmitActive = true;\n\t\t}\n\t\tthis.setState({ submitActive });\n\t}\n\trender() {\n\t\tlet buttonClass;\n\t\tif (this.state.submitActive) {\n\t\t\tbuttonClass = 'button blue';\n\t\t} else {\n\t\t\tbuttonClass = 'button blue disabled';\n\t\t}\n\t\treturn (\n\t\t\t<div>\n\t\t\t\t<div className=\"box\">\n\t\t\t\t\t<h2>Login</h2>\n\t\t\t\t\t<input onChange={(event) => { this.handleUsername(event) }} type=\"text\" placeholder=\"Please Enter your username\" name=\"username\" style={{ color: 'black', width: '100%' }} />\n\t\t\t\t\t<input onChange={(event) => { this.handlePassword(event) }} type=\"password\" placeholder=\"Please Enter your password\" name=\"password\" style={{ color: 'black', width: '100%' }} />\n\t\t\t\t\t<a onClick={(event) => { this.state.submitActive && this.handleSubmit() }} className={buttonClass} href=\"#\">Login</a>\n\t\t\t\t</div>\n\t\t\t\t<div onClick={() => { this.props.showLogin(0) }} className=\"overlay\"></div>\n\t\t\t</div>\n\t\t);\n\t}\n}\n\nexport default Login;","import API from './axios';\n\nconst login = (username, token, id) => {\n\t//Save User data in localStorage\n\tlet userData = {\n\t\tid: id,\n\t\tusername: username,\n\t\ttoken: token\n\t};\n\tlocalStorage.setItem('userData', JSON.stringify(userData));\n\t\n\t//Send Token with Each request\n\treturn API.interceptors.request.use((config) => {\n\t\tconfig.headers.token = token;\n\t\treturn config;\n\t}, (error) => {\n\t\treturn Promise.reject(error);\n\t})\n}\n\nconst logout = (interceptorID) => {\n\tlocalStorage.removeItem('userData');\n\t//Remove token from requests header\n\tAPI.interceptors.request.eject(interceptorID);\n}\n\nexport {\n\tlogin,\n\tlogout\n}","import React from 'react';\n//Utilities\nimport API from '../axios';\n\nexport default class SignUp extends React.Component{\n\tconstructor(props){\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tusername: '',\n\t\t\temail: '',\n\t\t\tpassword: '',\n\t\t\tpassword_confirm: '',\n\t\t\tsubmitActive: true\n\t\t};\n\t}\n\tinputHandler = (event) => {\n\t\tlet field = event.target.name;\n\t\tlet value = event.target.value;\n\t\tthis.setState({\n\t\t\t[field]: value\n\t\t});\n\t}\n\thandleSubmit = (event) => {\n\t\tlet submitActive = false;\n\t\tlet errors = [];\n\t\tif(this.state.username == ''){\n\t\t\terrors.push(\"Please Enter your Username \\n\");\n\t\t}\n\t\tif(this.state.password == ''){\n\t\t\terrors.push(\"Please Enter your Password \\n\");\n\t\t}\n\t\tif(this.state.email == \"\"){\n\t\t\terrors.push(\"Please Enter your email\\n\");\n\t\t}else if(!this.state.email.match(/^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/)){\n\t\t\terrors.push(\"The Email you entered is invalid\\n\");\n\t\t}\n\t\tif(this.state.password_confirm == \"\"){\n\t\t\terrors.push(\"Please enter your password confirmation\\n\");\n\t\t}else if(this.state.password != this.state.password_confirm){\n\t\t\terrors.push(\"The Passwords you entered do not match\\n\");\n\t\t}\n\t\t\n\t\tif(errors.length == 0){\n\t\t\t//Send HTTP POST request to register the user at the backend API\n\t\t\tAPI.post('/users', {\n\t\t\t\tusername: this.state.username,\n\t\t\t\temail: this.state.email,\n\t\t\t\tpassword: this.state.password\n\t\t\t}).then((res) => {\n\t\t\t\tthis.props.flashHandler('success', 'Signed Up Succesfully!');\n\t\t\t\tthis.props.showSignup(0);\n\t\t\t\tthis.props.showLogin(1);\n\n\t\t\t}).catch((error) => {\n\t\t\t\tthis.props.flashHandler('error', 'An Error Occured!');\n\t\t\t});\n\t\t\t\n\t\t}else{\n\t\t\tthis.props.flashHandler('error', errors);\n\t\t\tsubmitActive = true;\n\t\t}\n\t\tthis.setState({ submitActive });\n\t}\n\trender(){\n\t\tlet buttonClass;\n\t\tif(this.state.submitActive){\n\t\t\tbuttonClass = 'button blue';\n\t\t}else{\n\t\t\tbuttonClass = 'button blue disabled';\n\t\t}\n\t\treturn(\n\t\t\t<div>\n\t\t\t\t<div className=\"box\">\n\t\t\t\t\t<h2>Sign Up</h2>\n\t\t\t\t\t<input onChange = {(event) => { this.inputHandler(event) }} type=\"text\" placeholder=\"Please Enter your username\" name=\"username\" />\n\t\t\t\t\t<input onChange = {(event) => { this.inputHandler(event) }} type=\"text\" placeholder=\"Please Enter your email address\" name=\"email\"/>\n\t\t\t\t\t<input onChange = {(event) => { this.inputHandler(event) }} type=\"password\" placeholder=\"Please Enter your password\" name=\"password\" />\n\t\t\t\t\t<input onChange = {(event) => { this.inputHandler(event) }} type=\"password\" placeholder=\"Please Confirm your password\" name=\"password_confirm\" />\n\t\t\t\t\t<a onClick={() => { this.handleSubmit() }} className={buttonClass} href=\"#\">Sign Up</a>\n\t\t\t\t</div>\n\t\t\t\t<div onClick={() => { this.props.showSignup(0) }} className=\"overlay\"></div>\n\t\t\t</div>\n\t\t);\n\t}\n}","import React from 'react';\nimport io from 'socket.io-client';\n\nexport default class Room extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\tsocket: '',\n\t\t\tsharing_screen: false,\n\t\t\tpeople_count: 1,\n\t\t\tupload_visible: false,\n\t\t\tviewing: false,\n\t\t\tWebRTC_config: {\n\t\t\t\ticeServers: [\n\t\t\t\t\t{\n\t\t\t\t\t\turls: [\"stun:stun.l.google.com:19302\"]\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\tpeerConnections: []\n\t\t};\n\t\tthis.myRef = React.createRef();\n\t}\n\tinviteHandler = () => {\n\t\tnavigator.clipboard.writeText(this.props.room_code);\n\t\tthis.props.flashHandler('success', 'Copied Room Code to Clipboard!');\n\t}\n\tcomponentDidMount() {\n\t\tif (this.props.type != 'host') {\n\t\t\tthis.setState({ people_count: 2 });\n\t\t}\n\t\t//Connect to Socket\n\t\tthis.setState({\n\t\t\tsocket: io('https://mywebrtcserver.herokuapp.com/')\n\t\t}, () => {\n\t\t\tlet peerConnections = [];\n\t\t\tconst data = {\n\t\t\t\troom_code: this.props.room_code\n\t\t\t};\n\t\t\tif (this.props.type == 'host') {\n\t\t\t\tthis.state.socket.emit(\"create-room\", data);\n\t\t\t} else {\n\t\t\t\tthis.state.socket.emit(\"join-room\", data);\n\t\t\t}\n\t\t\tthis.state.socket.on('user-joined', () => {\n\t\t\t\tthis.props.flashHandler('success', 'Someone Joined!');\n\t\t\t\tthis.setState({ people_count: 2 });\n\t\t\t});\n\t\t\tthis.state.socket.on('user-left', () => {\n\t\t\t\tthis.props.flashHandler('error', 'Someone Left.');\n\t\t\t\tthis.setState({ people_count: 1 });\n\t\t\t})\n\t\t\tthis.state.socket.on('room-terminated', () => {\n\t\t\t\tthis.props.flashHandler('error', 'Host left the room.');\n\t\t\t\tthis.props.setInsideRoom(0);\n\t\t\t});\n\n\t\t\t//WebRTC Specific events\n\t\t\tif (this.props.type == 'host') {\n\t\t\t\t//Host socket events\n\t\t\t\tthis.state.socket.on('viewing', (id) => {\n\t\t\t\t\tconst peerConnection = new RTCPeerConnection(this.state.WebRTC_config);\n\t\t\t\t\tpeerConnections[id] = peerConnection;\n\t\t\t\t\tthis.state.stream.getTracks().forEach(track => peerConnection.addTrack(track, this.state.stream));\n\n\t\t\t\t\tpeerConnection.onicecandidate = event => {\n\t\t\t\t\t\tif (event.candidate) {\n\t\t\t\t\t\t\tthis.state.socket.emit(\"candidate\", id, event.candidate);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\tconsole.log(\"Creating offer\");\n\t\t\t\t\tpeerConnection\n\t\t\t\t\t\t.createOffer()\n\t\t\t\t\t\t.then(sdp => peerConnection.setLocalDescription(sdp))\n\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\tthis.state.socket.emit(\"offer\", id, peerConnection.localDescription);\n\t\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t\tthis.state.socket.on(\"answer\", (id, description) => {\n\t\t\t\t\tpeerConnections[id].setRemoteDescription(description);\n\t\t\t\t\t//peerConnection.setRemoteDescription(description);\n\t\t\t\t});\n\n\t\t\t\tthis.state.socket.on(\"candidate\", (id, candidate) => {\n\t\t\t\t\tpeerConnections[id].addIceCandidate(new RTCIceCandidate(candidate));\n\t\t\t\t\t//peerConnection.addIceCandidate(new RTCIceCandidate(candidate));\n\t\t\t\t});\n\n\t\t\t\tthis.state.socket.on(\"disconnectPeer\", id => {\n\t\t\t\t\tpeerConnections[id].close();\n\t\t\t\t\t//peerConnection.close();\n\t\t\t\t\tdelete peerConnections[id];\n\t\t\t\t});\n\t\t\t} else {\n\t\t\t\t//Viewer socket events\n\t\t\t\tlet peerConnection;\n\t\t\t\tthis.state.socket.on(\"offer\", (id, description) => {\n\t\t\t\t\tpeerConnection = new RTCPeerConnection(this.state.WebRTC_config);\n\t\t\t\t\tpeerConnection\n\t\t\t\t\t\t.setRemoteDescription(description)\n\t\t\t\t\t\t.then(() => peerConnection.createAnswer())\n\t\t\t\t\t\t.then((sdp) => peerConnection.setLocalDescription(sdp))\n\t\t\t\t\t\t.then(() => {\n\t\t\t\t\t\t\tthis.state.socket.emit(\"answer\", id, peerConnection.localDescription);\n\t\t\t\t\t\t}).then(() => {\n\t\t\t\t\t\t\tconsole.log(peerConnection.getStats());\n\t\t\t\t\t\t});\n\t\t\t\t\tpeerConnection.ontrack = (event) => {\n\t\t\t\t\t\tthis.setState({ viewing: true });\n\t\t\t\t\t\tthis.myRef.current.srcObject = event.streams[0];\n\t\t\t\t\t\tthis.myRef.current.play();\n\t\t\t\t\t};\n\t\t\t\t\tpeerConnection.onicecandidate = (event) => {\n\t\t\t\t\t\tif (event.candidate) {\n\t\t\t\t\t\t\tthis.state.socket.emit(\"candidate\", id, event.candidate);\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t});\n\n\t\t\t\tthis.state.socket.on(\"candidate\", (id, candidate) => {\n\t\t\t\t\tpeerConnection.addIceCandidate(new RTCIceCandidate(candidate)).catch((e) => console.error(e));\n\t\t\t\t});\n\n\t\t\t\tthis.state.socket.on(\"stream\", (data) => {\n\t\t\t\t\tthis.state.socket.emit(\"view\", data);\n\t\t\t\t});\n\n\t\t\t\tthis.state.socket.on(\"disconnectPeer\", () => {\n\t\t\t\t\tpeerConnection.close();\n\t\t\t\t});\n\t\t\t}\n\t\t});\n\t}\n\n\tleaveHandler = () => {\n\t\tthis.state.socket.close();\n\t\tthis.props.setInsideRoom(0);\n\t\tthis.props.flashHandler('error', 'You Left the room.');\n\t}\n\n\tfileUploadBox = () => {\n\t\tif (this.state.people_count == 1) {\n\t\t\treturn;\n\t\t}\n\t\tthis.setState({ upload_visible: !this.state.upload_visible });\n\t}\n\n\thandleUploadedFile = (files, event) => {\n\t\tlet file = files[0];\n\t\tlet type = file.type;\n\t\tconst URL = window.URL || window.webkitURL;\n\n\t\tlet playable = this.myRef.current.canPlayType(type);\n\t\tif (playable === '') playable = 'no';\n\t\tlet message = 'The file you uploaded is type: \"' + type + '\". Possibility: ' + playable;\n\t\tlet isError = playable === 'no';\n\n\t\tif (isError) {\n\t\t\tthis.props.flashHandler('error', 'This file cannot be played.');\n\t\t\tevent.target.value = '';\n\t\t\treturn;\n\t\t}\n\n\t\tthis.setState({ upload_visible: false });\n\t\tthis.myRef.current.src = URL.createObjectURL(file);\n\t}\n\n\tvideoPlayed = (event) => {\n\t\tif (this.props.type != 'host') {\n\t\t\treturn;\n\t\t}\n\t\tconsole.log(\"video played\");\n\t\tif (this.myRef.current.captureStream()) {\n\t\t\tvar stream = this.myRef.current.captureStream();\n\t\t}\n\t\telse if (this.myRef.current.mozCaptureStream()) {\n\t\t\tvar stream = this.myRef.current.mozCaptureStream();\n\t\t}\n\t\tconst data = {\n\t\t\troom_code: this.props.room_code\n\t\t};\n\t\tthis.setState({ stream: stream });\n\t\tthis.state.socket.emit(\"stream\", data);\n\t}\n\n\tshareScreen = () => {\n\t\tif (this.state.people_count == 1) {\n\t\t\treturn;\n\t\t}\n\t\tif (!navigator.mediaDevices.getDisplayMedia) {\n\t\t\tthis.props.flashHandler('error', \"Your browser doesn't support screen sharing\");\n\t\t\treturn;\n\t\t}\n\t\tnavigator.mediaDevices.getDisplayMedia({ video: 1 }).then((stream) => {\n\t\t\tthis.setState({ upload_visible: false, sharing_screen: true });\n\t\t\tthis.myRef.current.srcObject = stream;\n\t\t\tthis.myRef.current.play();\n\t\t\tthis.state.socket.emit(\"stream\", { room_code: this.props.room_code });\n\t\t}).catch((error) => {\n\t\t\tthis.props.flashHandler('error', \"No permissions granted for screen sharing!\");\n\t\t});\n\t}\n\n\tstopSharing = () => {\n\t\tlet tracks = this.myRef.current.srcObject.getTracks();\n\t\ttracks.forEach(track => track.stop());\n\t\tthis.myRef.current.srcObject = null;\n\t\tthis.setState({ sharing_screen: false });\n\t}\n\n\trender() {\n\t\tlet share_screen_link;\n\t\tif (this.state.sharing_screen == false) {\n\t\t\tshare_screen_link = <a className={this.state.people_count == 1 ? \"disabled\" : \"\"} onClick={(event) => { this.shareScreen() }} href=\"#\">Share Screen</a>\n\t\t} else {\n\t\t\tshare_screen_link = <a onClick={(event) => { this.stopSharing() }} href=\"#\">Stop Screen</a>\n\t\t}\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{this.state.upload_visible == true &&\n\t\t\t\t\t<div className=\"upload_box\">\n\t\t\t\t\t\t<input onChange={(event) => { this.handleUploadedFile(event.target.files, event) }} type=\"file\" accept=\"video/*,audio/*\" />\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t\t{this.state.viewing == false && this.props.type == 'client' &&\n\t\t\t\t\t<div className=\"no-video\">\n\t\t\t\t\t\t<p>The Host hasn't streamed anything yet!</p>\n\t\t\t\t\t</div>\n\t\t\t\t}\n\t\t\t\t<div className=\"col-12\">\n\t\t\t\t\t<video onPlay={(event) => { this.videoPlayed(event) }} ref={this.myRef} width=\"933\" height=\"360\" controls></video>\n\t\t\t\t\t<div className=\"video_controls\">\n\t\t\t\t\t\t{this.props.type == 'host' &&\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t<a className={this.state.people_count == 1 ? \"disabled\" : \"\"} onClick={() => { this.fileUploadBox() }} href=\"#\">Upload</a>\n\t\t\t\t\t\t\t\t<a onClick={() => { this.inviteHandler() }} href=\"#\">Invite</a>\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t}\n\t\t\t\t\t\t<a onClick={() => { this.leaveHandler() }} style={{ color: '#ff6e6e' }} href=\"#\">Leave</a>\n\t\t\t\t\t\t<div className=\"participants\">\n\t\t\t\t\t\t\t<span>People: {this.state.people_count}</span>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</>\n\t\t);\n\t}\n}","import React from 'react';\n//Utilities\nimport API from '../axios';\n//Components\nimport Room from './room';\n\nexport default class Dashboard extends React.Component {\n\tconstructor(props) {\n\t\tsuper(props);\n\t\tthis.state = {\n\t\t\troom_name: '',\n\t\t\troom_code: '',\n\t\t\ttype: 'client'\n\t\t}\n\t}\n\n\tinputHandler = (event) => {\n\t\tlet field = event.target.name;\n\t\tlet value = event.target.value;\n\t\tthis.setState({\n\t\t\t[field]: value\n\t\t});\n\t}\n\n\tcreateRoom = () => {\n\t\tif (this.state.room_name == '') {\n\t\t\tthis.props.flashHandler('error', \"You didn't enter a room name!\");\n\t\t\treturn;\n\t\t}\n\t\tlet userData = JSON.parse(localStorage.getItem('userData'));\n\t\tlet userID = userData.id;\n\t\tAPI.post('/rooms/create', {\n\t\t\tname: this.state.room_name,\n\t\t\tcreatorId: userID\n\t\t}).then((res) => {\n\t\t\tconsole.log(res.data.data.roomCode);\n\t\t\tthis.setState({\n\t\t\t\ttype: 'host',\n\t\t\t\troom_code: res.data.data.roomCode\n\t\t\t});\n\t\t\t//Should get room code here and set its state\n\t\t\tthis.props.flashHandler('success', 'Room Joined!');\n\t\t\tthis.props.setInsideRoom(1);\n\t\t}).catch((error) => {\n\t\t\tconsole.log(error);\n\t\t\tthis.props.flashHandler('error', 'An Error occured');\n\t\t});\n\t}\n\n\tjoinRoom = () => {\n\t\tif (this.state.room_code == '') {\n\t\t\tthis.props.flashHandler('error', \"You didn't enter a room code!\");\n\t\t\treturn;\n\t\t}\n\t\tAPI.get('/rooms/join/' + this.state.room_code, {\n\n\t\t}).then((res) => {\n\t\t\tthis.props.flashHandler('success', 'Room Joined!');\n\t\t\tthis.setState({ room_name: res.data.data.room_name, type: 'client' });\n\t\t\tthis.props.setInsideRoom(1);\n\t\t}).catch((error) => {\n\t\t\tthis.props.flashHandler('error', 'Room is full!');\n\t\t});\n\t}\n\n\trender() {\n\t\tlet page;\n\t\tif (this.props.insideRoom) {\n\t\t\tpage = <Room setInsideRoom={this.props.setInsideRoom} flashHandler={this.props.flashHandler} type={this.state.type} room_name={this.state.room_name} room_code={this.state.room_code} />;\n\t\t} else {\n\t\t\tpage = <>\n\t\t\t\t<div className=\"col-12 col-sm-12 col-lg-6\">\n\t\t\t\t\t<h3>Create a Room</h3>\n\t\t\t\t\t<div className=\"room_action\">\n\t\t\t\t\t\t<input onChange={(event) => { this.inputHandler(event) }} type=\"text\" name=\"room_name\" placeholder=\"Enter Room Name\" />\n\t\t\t\t\t\t<a className=\"linkNoUnderline\" onClick={() => { this.createRoom() }} href=\"#\">Create & Join</a>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"col-12 col-sm-12 col-lg-6\">\n\t\t\t\t\t<h3>Join a Room</h3>\n\t\t\t\t\t<div className=\"room_action\">\n\t\t\t\t\t\t<input onChange={(event) => { this.inputHandler(event) }} type=\"text\" name=\"room_code\" placeholder=\"Enter Room code (e.g RG34WEZ)\" />\n\t\t\t\t\t\t<a className=\"linkNoUnderline\" onClick={() => { this.joinRoom() }} href=\"#\">Join</a>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</>;\n\t\t}\n\t\treturn (\n\t\t\t<>\n\t\t\t\t{page}\n\t\t\t</>\n\t\t);\n\t}\n}","import React, { useState, useEffect } from 'react';\n//Utilities\nimport API from './axios';\nimport { loadProgressBar } from 'axios-progress-bar';\nimport { logout } from './auth';\nimport Flash from './utilities/flash';\n//Components\nimport Homepage from './components/homepage';\nimport Login from './components/login';\nimport SignUp from './components/signup';\nimport Dashboard from './components/dashboard';\n//CSS Files\nimport './css/ui.css';\nimport './css/theme.css';\nimport 'axios-progress-bar/dist/nprogress.css'\n//Images\nimport Logo from './imgs/logo.png';\nimport 'jquery/dist/jquery.min.js'\nimport 'bootstrap/dist/js/bootstrap.min.js'\n\nfunction App() {\n\tconst [loginVisible, showLogin] = useState(0);\n\tconst [signupVisible, showSignup] = useState(0);\n\tconst [loggedIn, setLogin] = useState(0);\n\tconst [username, setUsername] = useState(\"username\");\n\tconst [insideRoom, setInsideRoom] = useState(0);\n\tconst [flashVisible, setFlashVisible] = useState(0);\n\tconst [flashMessages, setFlashMessages] = useState({});\n\tconst [interceptorID, setInterceptorID] = useState(0);\n\n\t//Check if user is already logged in\n\tuseEffect(() => {\n\t\t//Attach Axios loading bar\n\t\tloadProgressBar({}, API);\n\t\tif (localStorage.getItem('userData')) {\n\t\t\tlet userData = JSON.parse(localStorage.getItem('userData'));\n\t\t\tsetLogin(1);\n\t\t\t//Send Token with Each request\n\t\t\tAPI.interceptors.request.use((config) => {\n\t\t\t\tconfig.headers.token = userData.token;\n\t\t\t\treturn config;\n\t\t\t}, (error) => {\n\t\t\t\treturn Promise.reject(error);\n\t\t\t})\n\t\t\tsetUsername(userData.username);\n\t\t}\n\t}, []);\n\n\tlet logoutHandler = () => {\n\t\tlogout(interceptorID);\n\t\tflashHandler('success', 'Logged out succesfully!');\n\t\tsetLogin(0);\n\t}\n\n\tlet flashHandler = (status, messages) => {\n\t\tsetFlashVisible(1);\n\t\tsetFlashMessages({ status, messages });\n\t\tsetTimeout(() => {\n\t\t\tsetFlashVisible(0);\n\t\t}, 2000);\n\t}\n\n\tlet render;\n\tif (loggedIn) {\n\t\trender = <Dashboard flashHandler={flashHandler} setInsideRoom={setInsideRoom} insideRoom={insideRoom} />;\n\t} else {\n\t\trender = <Homepage showLogin={showLogin} showSignup={showSignup} />;\n\t}\n\tlet button;\n\tif (!insideRoom) {\n\t\tbutton = <a onClick={() => { logoutHandler() }} className=\"button red\" href=\"#\">Logout</a>;\n\t}\n\treturn (\n\t\t<>\n\t\t\t{flashVisible == 1 &&\n\t\t\t\t<Flash data={flashMessages} />\n\t\t\t}\n\t\t\t{loginVisible == 1 &&\n\t\t\t\t<Login setInterceptorID={setInterceptorID} flashHandler={flashHandler} showLogin={showLogin} setUsername={setUsername} setLogin={setLogin} />\n\t\t\t}\n\t\t\t{signupVisible == 1 &&\n\t\t\t\t<SignUp flashHandler={flashHandler} showSignup={showSignup} showLogin={showLogin} />\n\t\t\t}\n\t\t\t<div className=\"container-md homepage\">\n\t\t\t\t<nav class=\"navbar navbar-expand-lg navbar-dark bg-dark fixed-top\">\n\t\t\t\t\t<a class=\"navbar-brand\" href=\"index.html\">\n\t\t\t\t\t\tShareOne\n\t\t\t\t</a>\n\t\t\t\t\t<button class=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#navbarCollapse\" aria-controls=\"navbarCollapse\" aria-expanded=\"false\" aria-label=\"Toggle navigation\" >\n\t\t\t\t\t\t<span class=\"navbar-toggler-icon\"></span></button>\n\t\t\t\t\t<div class=\"collapse navbar-collapse bg-dark\" id=\"navbarCollapse\">\n\t\t\t\t\t\t<ul class=\"navbar-nav ml-auto\">\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tloggedIn ? <li class=\"nav-item dropdown\">\n\t\t\t\t\t\t\t\t\t<a class=\"nav-link dropdown-toggle\" href=\"#\" id=\"navbardrop\" data-toggle=\"dropdown\">\n\t\t\t\t\t\t\t\t\t\t{username}\n\t\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t\t\t<div class=\"dropdown-menu\">\n\t\t\t\t\t\t\t\t\t\t<a class=\"dropdown-item\" onClick={() => { logoutHandler() }}>Logout</a>\n\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t</li> : null\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</nav>\n\t\t\t\t<div className=\"row\">\n\t\t\t\t\t{render}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</>\n\t);\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}